{% schema %}
{
  "name": "Pricing Plans",
  "settings": [],
  "presets": [{ "name": "Pricing Plans" }]
}
{% endschema %}

<div x-data="{ animal: 'cat' }" class="py-12 bg-blue-50">
  <div class="max-w-7xl mx-auto px-4 text-center">
    <!-- Tabs -->
    <div class="flex justify-center mb-8 relative w-fit mx-auto">
      {% render 'animal-tab-button',
        animal_type: 'dog',
        animal_label: 'Dog',
        icon: 'icon-dog',
        underline_direction: 'underline-animate-right'
      %}
      {% render 'animal-tab-button',
        animal_type: 'cat',
        animal_label: 'Cat',
        icon: 'icon-cat',
        underline_direction: 'underline-animate-left'
      %}
    </div>

    <div class="relative">
      <!-- Ensure enough height for both swipers -->
      <!-- CAT Swiper -->
      <div
        x-show="animal === 'cat'"
        x-transition.opacity.duration.1000ms
        class="swiper pricingSwiper mb-8 !absolute inset-0 h-fit"
        x-cloak
      >
        <div class="swiper-wrapper">
          {% for product in collections['cat-products'].products %}
            {% render 'animal-card', product: product %}
          {% endfor %}
        </div>
      </div>

      <!-- DOG Swiper -->
      <div
        x-show="animal === 'dog'"
        x-transition.opacity.duration.1000ms
        class="swiper pricingSwiper mb-8 !absolute inset-0 h-fit"
        x-cloak
      >
        <div class="swiper-wrapper">
          {% for product in collections['dog-products'].products %}
            {% render 'animal-card', product: product %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Swiper CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.pricingSwiper', {
      slidesPerView: 'auto',
      spaceBetween: 24,
      breakpoints: {
        768: {
          slidesPerView: 'auto',
        },
      },
    });
  });
</script>

<style>
  .filter-blue {
    filter: invert(32%) sepia(98%) saturate(7497%) hue-rotate(212deg) brightness(97%) contrast(101%);
  }
  .filter-gray {
    filter: grayscale(1) brightness(0.7);
  }
</style>
